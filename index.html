<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>古の個人サイト</title>
<style type="text/css">
body {
  background-image: url('bg_pattern.gif');
  background-repeat: repeat;
  margin: 0;
  padding: 0;
  font-family: "ＭＳ ゴシック", monospace;
  text-align: center;
}
table { border-collapse: collapse; margin: 0 auto; }
a { color: #0000ff; text-decoration: underline; }
a:hover { text-decoration: none; }
.counter {
  font-size: 12px;
  background: #ffffcc;
  border: 1px solid #ff0000;
  padding: 2px 4px;
}
.star {
  position: absolute;
  font-size: 14px;
  pointer-events: none;
  z-index: 9999;
}
</style>
<script type="text/javascript">
// 右クリック禁止
document.oncontextmenu=function(){alert('右クリック禁止！');return false;};

// カウンター
function initCounter(){
  var k='ancient_counter_v1';
  var v=parseInt(localStorage.getItem(k),10);
  if(isNaN(v)||v<200123){v=200123;}
  v++;
  localStorage.setItem(k,v);
  document.getElementById('counter').innerHTML=v;
}

// marquee 点滅
var blinkState=true;
function blinkMarquee(){
  var el=document.getElementById('marqueeTxt');
  blinkState=!blinkState;
  el.style.visibility=blinkState?'visible':'hidden';
}

// キラキラ
var last=0,sc=0;
function makeStar(x,y){
  var s=document.createElement('span');
  s.className='star';
  s.style.left=x+'px';s.style.top=y+'px';
  var arr=['★','☆','✦','✧'];
  s.innerHTML=arr[sc%arr.length];sc++;
  document.body.appendChild(s);
  var op=1;
  var t=setInterval(function(){
    op-=0.1;if(op<=0){clearInterval(t);document.body.removeChild(s);}
    s.style.opacity=op;
  },50);
}
function move(e){
  var now=new Date().getTime();
  if(now-last<60)return;last=now;
  makeStar(e.pageX,e.pageY);
}

window.onload=function(){
  initCounter();
  setInterval(blinkMarquee,400);
  document.onmousemove=move;
};
</script>
</head>
<body>

<!-- タイトル -->
<p><img src="title_pop.gif" alt="古の個人サイト" width="200"></p>

<!-- カウンター -->
<p class="counter">あなたは <span id="counter">200123</span> 人目のお客さまです</p>

<!-- marquee -->
<marquee behavior="scroll" direction="left" scrollamount="3">
  <span id="marqueeTxt">いらっしゃいませ！！！</span>
</marquee>

<!-- メイン萌え絵 -->
<p><img src="moe.png" alt="自作萌え絵" width="200" style="border:1px solid #000;"></p>

<!-- リンク集 -->
<table cellpadding="2" cellspacing="0" border="0">
  <tr><td><a href="guestbook.html">...guestbook...</a></td></tr>
  <tr><td><a href="aibou_links.html">...link room...</a></td></tr>
  <tr><td><a href="footprints.html">...footprints...</a></td></tr>
  <tr><td><a href="baton.html">...baton...</a></td></tr>
  <tr><td><a href="http://example.com/net-manners" target="_blank">...net manners...</a></td></tr>
</table>

<!-- キリ番報告 -->
<p>■キリ番報告</p>
<form method="post" action="guest.cgi">
  HN:<br><input type="text" name="handle" size="15"><br>
  番号:<br><input type="text" name="num" size="10"><br>
  <input type="submit" value="報告する">
</form>

<!-- 同盟バナー -->
<p>
  <img src="alliance1.gif" width="200" height="40">
  <br>
  <img src="alliance2.gif" width="200" height="40"><br>
  <img src="alliance3.gif" width="200" height="40">
</p>

<!-- 工事中/NEW 2コマGIF -->
<p><img src="under_construction.gif" id="twogif" width="100"></p>
<script>
var imgs=['under_construction.gif','new.gif'],idx=0;
setInterval(function(){
  idx=(idx+1)%imgs.length;
  document.getElementById('twogif').src=imgs[idx];
},800);
</script>

<noscript>
<p style="color:red;">※JavaScriptを有効にすると演出が動きます</p>
</noscript>

</body>
</html>
